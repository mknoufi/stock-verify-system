{
  "name": "Stock Verification System",
  "version": "2.1.0",
  "description": "Inventory verification with FastAPI, React Native, MongoDB, and SQL Server",

  "architecture": {
    "backend": {
      "framework": "FastAPI",
      "language": "Python 3.10+",
      "port": 8001,
      "databases": {
        "primary": "MongoDB (Motor async)",
        "erp": "SQL Server (read-only)"
      },
      "auth": "JWT (Authlib)"
    },
    "frontend": {
      "framework": "React Native + Expo",
      "language": "TypeScript",
      "port": 8081,
      "state": "Zustand",
      "routing": "Expo Router",
      "styling": "NativeWind"
    }
  },

  "rules": {
    "critical": [
      "SQL Server is READ-ONLY - never write to it",
      "Use parameterized queries (?) for SQL - prevent injection",
      "JWT authentication required on all /api/* endpoints",
      "Follow existing code patterns - don't introduce new frameworks"
    ],
    "testing": [
      "Run tests before and after changes",
      "Backend: pytest with 90%+ coverage target",
      "Frontend: Jest for component testing",
      "Full CI: make ci"
    ],
    "commits": [
      "Use conventional commits: feat|fix|docs|refactor|test",
      "Keep diffs small and focused",
      "Run pre-commit hooks before committing"
    ]
  },

  "commands": {
    "backend": {
      "start": "cd backend && uvicorn backend.server:app --host 0.0.0.0 --port 8001 --reload",
      "test": "cd backend && pytest tests/ -v",
      "lint": "cd backend && ruff check .",
      "format": "cd backend && black . && ruff format ."
    },
    "frontend": {
      "start": "cd frontend && npm start",
      "test": "cd frontend && npm test",
      "lint": "cd frontend && npm run lint",
      "typecheck": "cd frontend && npm run typecheck"
    },
    "all": {
      "test": "make test",
      "lint": "make lint",
      "ci": "make ci",
      "format": "make format"
    }
  },

  "keyFiles": {
    "backend": [
      "backend/server.py",
      "backend/config.py",
      "backend/db_mapping_config.py",
      "backend/api_mapping.py"
    ],
    "frontend": [
      "frontend/app/",
      "frontend/components/",
      "frontend/services/",
      "frontend/stores/"
    ],
    "config": [
      ".cursorrules",
      ".github/copilot-instructions.md",
      "pyproject.toml",
      "docker-compose.yml"
    ]
  },

  "apiPatterns": {
    "prefix": "/api",
    "auth": "Authorization: Bearer <token>",
    "errorFormat": {
      "detail": "Error message",
      "error_code": "ERROR_CODE",
      "timestamp": "ISO timestamp"
    }
  },

  "agents": {
    "aider": ".aider.conf.yml",
    "continue": ".continue/config.json",
    "cline": ".clinerules",
    "swe-agent": ".swe-agent.yml",
    "metagpt": ".metagpt.yml",
    "autogpt": ".autogpt.yml",
    "devon": ".devon.yml",
    "cursor": ".cursorrules",
    "copilot": ".github/copilot-instructions.md"
  }
}
