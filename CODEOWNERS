# CODEOWNERS - Branch Protection & Review Routing
# Format: <file-pattern> <@username or @team>

# Critical financial/ledger paths
/backend/services/erp_sync_service.py          @finance-lead @tech-lead
/backend/services/advanced_erp_sync.py        @finance-lead @tech-lead
/backend/api/*ledger*.py                      @finance-lead @tech-lead
/backend/api/*payment*.py                     @finance-lead @tech-lead

# Purchase and supply chain
/backend/routes/item_routes.py                @supplychain-lead @tech-lead
/backend/api/enhanced_item_api.py             @supplychain-lead @tech-lead
/backend/services/batch_operations.py        @supplychain-lead @tech-lead

# Authentication and security
/backend/auth/                                @security-lead @tech-lead
/backend/middleware/security_headers.py       @security-lead @tech-lead
/backend/middleware/rate_limit_middleware.py  @security-lead @tech-lead
/backend/api/security_api.py                  @security-lead @tech-lead
/backend/api/permissions_api.py               @security-lead @tech-lead

# Database and migrations
/backend/db/                                  @tech-lead @dba
/backend/db/migrations.py                      @tech-lead @dba
**/migrations/**/*.py                         @tech-lead @dba

# Frontend critical paths
/frontend/app/admin/                          @frontend-lead @tech-lead
/frontend/services/                           @frontend-lead @tech-lead
/frontend/store/                              @frontend-lead @tech-lead

# Configuration and infrastructure
/.github/                                      @tech-lead
/.devcontainer/                               @tech-lead
/docker-compose.yml                           @tech-lead @devops
/Dockerfile                                   @tech-lead @devops
/.pre-commit-config.yaml                      @tech-lead
/.cursorrules                                  @tech-lead

# Tests (require review for coverage)
/tests/                                        @tech-lead
/backend/tests/                               @tech-lead
/frontend/**/*.test.ts                        @frontend-lead @tech-lead
/frontend/**/*.test.tsx                       @frontend-lead @tech-lead

# Documentation
/ARCHITECTURE.md                               @tech-lead
/API_CONTRACTS.md                              @tech-lead
/README.md                                     @tech-lead

# Default owners (fallback)
*                                             @tech-lead
